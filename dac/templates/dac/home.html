{% load i18n %}

{% comment %} {% block page_description %}
  {% trans "Manage your account settings, security preferences, and personal information" %}
{% endblock page_description %}

{% block page_actions %}
  <c-dac.action href="/" text="{% trans "Return to site" %}" class="inline-flex items-center px-4 py-2 text-sm font-medium" />
{% endblock page_actions %} {% endcomment %}
<c-dac.layout.standard title="{% trans "Account Center" %}">
  <div class="row g-3 g-lg-4 mb-4">
    <!-- Account status card -->
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0 text-success">
              <svg width="24"
                   height="24"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <div class="ms-3 flex-grow-1">
              <div class="small text-muted text-truncate">{% trans "Account Status" %}</div>
              <div class="fs-5 fw-semibold">{% trans "Active" %}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Profile completion card -->
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0 text-primary">
              <svg width="24"
                   height="24"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
            </div>
            <div class="ms-3 flex-grow-1">
              <div class="small text-muted text-truncate">{% trans "Profile" %}</div>
              <div class="fs-5 fw-semibold">85% {% trans "Complete" %}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Security score card -->
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0 text-warning">
              <svg width="24"
                   height="24"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
              </svg>
            </div>
            <div class="ms-3 flex-grow-1">
              <div class="small text-muted text-truncate">{% trans "Security Score" %}</div>
              <div class="fs-5 fw-semibold">{% trans "Good" %}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Last login card -->
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0 text-secondary">
              <svg width="24"
                   height="24"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <div class="ms-3 flex-grow-1">
              <div class="small text-muted text-truncate">{% trans "Last Login" %}</div>
              <div class="fs-5 fw-semibold">{{ request.user.last_login|date:"M d, Y" }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Profile Management -->
  <div class="row g-4">
    <!-- Security Settings -->
    <c-dac.dashboard.card title="Security & Privacy"
                          subtitle="Manage your password, two-factor authentication, and privacy settings"
                          primary_action_text="{% trans "Security Settings" %}"
                          primary_action_href="{% url "account_change_password" %}">
      <c-slot name="status_section">
        <c-dac.dashboard.status-item label="{% trans "Password" %}"
                                     badge_style="success"
                                     badge_text="{% trans "Strong" %}" />
        <c-dac.dashboard.status-item label="{% trans "Two-Factor Auth" %}"
                                     badge_style="warning"
                                     badge_text="{% trans "Not Set" %}" />
      </c-slot>
    </c-dac.dashboard.card>
    <!-- Account Activity -->
    <c-dac.dashboard.card title="Recent Activity"
                          subtitle="View your recent account activity and login sessions"
                          primary_action_text="{% trans "View All Activity" %}"
                          primary_action_href="#"
                          primary_action_style="secondary">
      <c-slot name="main_content">
        <div class="d-flex align-items-center gap-3">
          <div class="flex-shrink-0">
            <span class="d-inline-block rounded-circle bg-success"
                  style="width: .5rem;
                         height: .5rem"></span>
          </div>
          <div class="flex-grow-1 min-w-0">
            <p class="mb-1 small">{% trans "Login successful" %}</p>
            <p class="mb-0 text-muted small">{{ request.user.last_login|timesince }} {% trans "ago" %}</p>
          </div>
        </div>
      </c-slot>
    </c-dac.dashboard.card>
    {% comment %} <!-- Billing & Subscription (if Stripe is enabled) -->
                                                  {% if stripe_pricing_table_id %}
                                                    <c-dac.dashboard.card title="Subscription"
                                                                          subtitle="Manage your subscription and billing information"
                                                                          primary_action_text="{% trans "Manage Subscription" %}"
                                                                          primary_action_href="{% url "stripe_pricing" %}">
                                                      <c-slot name="status_section">
                                                        <c-dac.dashboard.status-item label="{% trans "Current Plan" %}"
                                                                                     badge_style="primary"
                                                                                     badge_text="{% trans "Pro" %}" />
                    </c-slot>
    </c-dac.dashboard.card>
{% endif %} {% endcomment %}
<!-- Quick Actions -->
<c-dac.dashboard.card title="Quick Actions"
                      subtitle="Common tasks and shortcuts">
  <c-slot name="actions_section">
    <div class="d-grid gap-2">
      <c-dac.action variant="secondary"
                    text="{% trans "Download Data" %}"
                    href="#"
                    class="w-100 justify-content-center" />
      <c-dac.action variant="secondary"
                    text="{% trans "Support Center" %}"
                    href="#"
                    class="w-100 justify-content-center" />
      <c-dac.action variant="danger"
                    text="{% trans "Delete Account" %}"
                    href="#"
                    class="w-100 justify-content-center" />
    </div>
  </c-slot>
</c-dac.dashboard.card>
</div>
</c-dac.layout.standard>
